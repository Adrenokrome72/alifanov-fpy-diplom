# My Cloud - Облачное хранилище

## Дипломный проект по профессии «Fullstack-разработчик на Python»

### Описание проекта

**My Cloud** - это веб-приложение, которое работает как облачное хранилище. Приложение позволяет пользователям загружать, скачивать, просматривать и переименовывать файлы, а также управлять ими через удобный веб-интерфейс.

### Основные возможности

#### Для пользователей:
- ✅ Регистрация и аутентификация с валидацией данных
- ✅ Загрузка файлов в личное хранилище
- ✅ Скачивание файлов
- ✅ Просмотр файлов в браузере
- ✅ Переименование файлов
- ✅ Удаление файлов
- ✅ Добавление комментариев к файлам
- ✅ Генерация специальных ссылок для внешнего доступа к файлам
- ✅ Просмотр статистики загрузок и дат последнего скачивания

#### Для администраторов:
- ✅ Управление пользователями (просмотр, удаление, изменение прав)
- ✅ Доступ к хранилищам всех пользователей
- ✅ Просмотр статистики использования хранилища

### Технический стек

#### Backend:
- **Python 3.10+**
- **Django** - веб-фреймворк
- **PostgreSQL** - база данных
- **Django REST Framework** - для API
- **Django CORS Headers** - для обработки CORS

#### Frontend:
- **React 18+** - библиотека для создания пользовательского интерфейса
- **Redux Toolkit** - управление состоянием
- **React Router** - маршрутизация
- **Tailwind CSS** - стилизация
- **Webpack** - сборка проекта
- **Jest** - тестирование

#### Инфраструктура:
- **Reg.ru** - хостинг и развертывание

## Установка и запуск

### Предварительные требования

- Python 3.10 или выше
- Node.js 18.0 или выше
- PostgreSQL
- Git

### 1. Клонирование репозитория

```bash
git clone <repository-url>
cd mycloud-project
```

### 2. Настройка backend

```bash
cd backend

# Создание виртуального окружения
python -m venv venv
source venv/bin/activate  # Linux/Mac
# или
venv\Scripts\activate     # Windows

# Установка зависимостей
pip install -r requirements.txt

# Настройка базы данных
# Создайте базу данных PostgreSQL и настройте подключение в config/settings.py
# или используйте переменные окружения в .env файле

# Применение миграций
python manage.py migrate

# Создание суперпользователя
python manage.py createsuperuser

# Запуск сервера разработки
python manage.py runserver
```

### 3. Настройка frontend

```bash
cd ../frontend

# Установка зависимостей
npm install

# Запуск сервера разработки
npm start
```

### 4. Сборка для продакшена

```bash
# Сборка frontend
cd frontend
npm run build

# Копирование статических файлов
cd ..
python backend/manage.py collectstatic
```

## Использование приложения

### Регистрация пользователя

1. Перейдите на главную страницу приложения
2. Нажмите "Регистрация"
3. Заполните форму:
   - **Логин**: 4-20 символов, только латинские буквы и цифры, начинается с буквы
   - **Полное имя**: ваше имя и фамилия
   - **Email**: действующий адрес электронной почты
   - **Пароль**: минимум 6 символов, содержит заглавную букву, цифру и специальный символ

### Вход в систему

1. На главной странице нажмите "Вход"
2. Введите логин и пароль
3. После успешной аутентификации вы будете перенаправлены в файловый менеджер

### Работа с файлами

#### Загрузка файла:
1. В файловом менеджере нажмите кнопку "Загрузить файл"
2. Выберите файл на вашем компьютере
3. Добавьте комментарий (опционально)
4. Нажмите "Загрузить"

#### Просмотр файла:
- Нажмите на имя файла в списке для просмотра деталей
- Используйте кнопку "Скачать" для загрузки файла на устройство

#### Переименование файла:
1. Нажмите на файл правой кнопкой мыши
2. Выберите "Переименовать"
3. Введите новое имя и нажмите "Сохранить"

#### Удаление файла:
1. Нажмите на файл правой кнопкой мыши
2. Выберите "Удалить"
3. Подтвердите удаление

#### Генерация ссылки для внешнего доступа:
1. Откройте детали файла
2. Нажмите "Копировать ссылку"
3. Ссылка будет скопирована в буфер обмена

### Административные функции

#### Доступ к панели администратора:
- Войдите под учетной записью с правами администратора
- В навигационном меню появится пункт "Админ панель"

#### Управление пользователями:
1. В админ панели перейдите в раздел "Пользователи"
2. Просмотрите список пользователей
3. Для изменения прав администратора используйте переключатель
4. Для удаления пользователя нажмите соответствующую кнопку

#### Просмотр хранилищ пользователей:
1. В админ панели выберите пользователя
2. Перейдите в его хранилище для просмотра файлов

## API Endpoints

### Аутентификация
- `POST /api/auth/register/` - Регистрация пользователя
- `POST /api/auth/login/` - Вход в систему
- `POST /api/auth/logout/` - Выход из системы

### Управление файлами
- `GET /api/files/` - Получение списка файлов
- `POST /api/files/upload/` - Загрузка файла
- `DELETE /api/files/{id}/` - Удаление файла
- `PUT /api/files/{id}/rename/` - Переименование файла
- `PUT /api/files/{id}/comment/` - Изменение комментария
- `GET /api/files/{id}/download/` - Скачивание файла
- `GET /api/files/{id}/share/` - Получение ссылки для внешнего доступа

### Администрирование
- `GET /api/admin/users/` - Список пользователей
- `DELETE /api/admin/users/{id}/` - Удаление пользователя
- `PUT /api/admin/users/{id}/` - Изменение прав пользователя

## Безопасность

- Все пароли хэшируются с использованием Django's password hashing
- API защищены аутентификацией на основе сессий
- Валидация всех входных данных
- CORS настроен для безопасного взаимодействия frontend-backend
- Специальные ссылки для внешнего доступа генерируются с использованием UUID

## Автор

[Алифанов Сергей] - Дипломный проект по программе Fullstack-разработчик
